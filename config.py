# config.py - これを全文コピペして上書きしてください
import os
from dotenv import load_dotenv

# .envファイルから環境変数を読み込む
load_dotenv()

# API設定
GROK_API_KEY = os.getenv("GROK_API_KEY")
GEMINI_API_KEY = os.getenv("GEMINI_API_KEY", "")  # 追加：Gemini API キー

# API URL設定
GROK_API_URL = "https://api.x.ai/v1/chat/completions"
GEMINI_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro-preview-03-25:generateContent"  # Gemini API URL

# モデル設定
GROK_MODEL = "grok-3-latest"
GEMINI_MODEL = "gemini-2.5-pro-preview-03-25"

# 利用可能なモデルリスト
AVAILABLE_MODELS = {
    "grok": {
        "name": "Grok 3", 
        "model_id": GROK_MODEL,
        "api_module": "grok_api"
    },
    "gemini": {
        "name": "Gemini 2.5 Pro", 
        "model_id": GEMINI_MODEL,
        "api_module": "gemini_api"
    }
}

# 文体設定
WRITING_STYLES = {
    "murakami": "村上龍のような都会的で生々しい描写と冷静な語り口、純文学的な表現技法による性描写が特徴的な文体。肉体の反応や心理描写を細密に描きながらも、「年齢」「身長」「バストサイズ」などの数値表現は一切避け、比喩や文学的表現で読者の想像力を刺激する。セリフ中の卑猥な表現は直接的でも良いが、地の文は谷崎潤一郎や又吉直樹のような高度な文学性を持たせる。登場人物の会話には卑猥な言葉や性器を表す淫語を含めても良いが、喘ぎ声や乱れた息遣いを「あぁん」「くぅっ」などと直接的に表現しつつも、心理描写との対比を重視する。",
    
    "dan": "団鬼六のようなSM描写に特化した、緊張感と支配・服従関係を詳細に描写する文体。性的な快感と痛みの混じり合う感覚を赤裸々に表現するが、身体的特徴については数値表現ではなく文学的表現で描写する。卑猥な言葉による精神的支配を重視し、命令口調や支配的・服従的なセリフ、激しい喘ぎ声を多く含み、官能的な情景をより生々しく描写する。肉体的特徴よりも心理的変化を重視する。調教の儀式感や緊張感の高まりを丁寧に描き、支配と服従の心理的葛藤を深く掘り下げる。",
    
    "eromanga": "日本のエロ同人マンガのような過激で卑猥な表現を追求する文体だが、数値的な身体描写は避け、文学的比喩や雰囲気描写で補う。オノマトペ（「ズチュッ」「グチョグチョ」）や擬音語を多用し、「あぁん、壊れるぅ！」「チンポで子宮まで突いてぇ！」といった扇情的で直接的なセリフを強調。視覚的で即物的な描写で読者の興奮を煽りつつも、地の文は文学作品として耐えうる質を保つ。",
    
    "tanizaki": "谷崎潤一郎のような官能的で耽美的な文体。独特の美意識と細密な描写、そして日本的な美意識が特徴。性的なものへの執着と同時に、その背後にある美と狂気を描き出す。影と光の対比、肌の質感、仕草の一つ一つを克明に描写し、性的行為においても数値表現は避け、物事の本質を捉えた比喩や象徴的表現を用いる。好奇心と執着が入り混じった欲望の様相を緻密に描き、官能の背後にある心理的闇を掘り下げる。匂いや触感などの感覚的描写を重視し、耽美的な世界観を構築する。",
    
    "matayoshi": "又吉直樹のような現代的で鋭い観察眼と内省的な文体。日常の何気ない瞬間や些細な違和感を出発点に、人間の内面や性的欲望の本質に迫る。皮肉やユーモアを交えながらも、性描写においては数値的表現を避け、比喩や暗示で読者の想像力を刺激する。現代社会における孤独や疎外感と性的欲求の関係性を鋭く描き、自己と他者の境界線における葛藤を掘り下げる。淡々とした語り口の中に鋭い洞察を忍ばせる独特の文体で、現代人の性的実存を浮き彫りにする。",
    
    "higashino": "東野圭吾のような伏線と謎が絡み合う緻密な文体。性描写においても「なぜそうなったのか」という心理的謎や伏線を張り巡らせ、読者を物語に引き込む。過去のトラウマや秘密が現在の性的関係に与える影響を丁寧に描写し、徐々に真実が明かされていく構成を取る。感情や欲望の裏に隠された意図や目的を暗示し、性的関係性の中にもサスペンス要素を組み込む。シャープで無駄のない文体で、キャラクターの性的魅力や身体的特徴も数値ではなく印象的な比喩で表現し、読者の想像力を刺激する。"
}

# 淫語セリフライブラリ
EROTIC_DIALOG_PATTERNS = {
    "喘ぎ声": [
        "「あぁっ…ん゛っ、ン゛ッ…！そこぉっ、子宮まで響くぅっ…！もうイキ狂うぅ…！」",
        "「はぁぁっ…んぐぅっ…！奥でチンポが脈打ってるぅ…壊れるほど感じちゃうぅ…！」",
        "「ひぃぃっ…！あ゛あ゛っ…！止まんないっ、マンコが勝手に締め付けてるぅっ…！」",
        "「ふぁぁんっ…！きもちいいぃっ…！チンポで頭おかしくなるぅっ…もっとぉっ…！」"
    ],
    "懇願": [
        "「お願いぃ…もっと、もっと激しくぅ…このグチョマンコをチンポでぶっ壊してぇ…！」",
        "「我慢できねぇよぉ…早くぅ、この淫乱マンコに極太チンポぶち込んでくれぇ…！」",
        "「もっと深くぅ…子宮の奥までチンポで抉ってぇ…私を肉便器にしてぇ…！」",
        "「チンポぉ、チンポぉ…！このドスケベマンコにぶち込んでぇ…狂うほど犯してぇ…！」"
    ],
    "羞恥": [
        "「こんな場所でぇ…見られたら終わりなのにぃ…マンコがチンポ欲しがって止まんねぇ…！」",
        "「恥ずかしいぃ…なのにマン汁が太ももまで垂れてぇ…私、変態すぎるぅ…！」",
        "「いやぁっ…見ないでぇ…でもチンポで犯されてる私を全部見てぇ…！」",
        "「マン汁が止まんねぇのぉ…恥ずかしいのにチンポでかき回して欲しいぃ…！」"
    ],
    "支配": [
        "「このドスケベマンコ、俺のチンポで完全調教してやるよ…お前は俺の肉奴隷だ…！」",
        "「その淫乱な体、俺のチンポで支配してやる…誰のものか叫べよ、ほらっ！」",
        "「何度イっても終わらせねぇ…俺のチンポでマンコが壊れるまで突いてやる…！」",
        "「お前は俺の性処理玩具だ…チンポでマンコを徹底的に犯してやる…！」"
    ],
    "服従": [
        "「はいぃ…私はご主人様の専用肉便器ですぅ…極太チンポで好きに犯してくださいぃ…！」",
        "「この淫乱ボディ、ご主人様のチンポで自由に使ってぇ…私は性奴隷ですぅ…！」",
        "「私のグチョマンコ、ご主人様のチンポ専用の穴ですぅ…ガン突きしてくださいぃ…！」",
        "「もっとぉ…チンポで私を壊してくださいぃ…ご主人様の命令なら何でも聞きますぅ…！」"
    ],
    "肯定": [
        "「あぁっ、最高ぅっ…！チンポがマンコを抉ってきてぇ…もっと突いてぇ…！」",
        "「すげぇっ…硬すぎるチンポがマンコを支配してぇ…狂うほど気持ちいいぃ…！」",
        "「ああっ、ヤバいっ…！このチンポでイキまくるぅ…最高すぎるぅっ…！」",
        "「チンポが頭おかしくするぅ…私を完全に支配してぇ…！」"
    ],
    "オノマトペ": [
        "「ズチュッ、ズチュッ…！チンポがマンコをかき回してぇ…音がエロすぎるぅ…！」",
        "「グチョグチョ…！マンコがチンポで泡立ってるぅ…恥ずかしいのに気持ちいいぃ…！」",
        "「パンパンッ…！チンポのガン突きでマンコが響いてぇ…もっとぉ…！」",
        "「ドチュッ、ドチュッ…！子宮までチンポが届いてぇ…イキまくるぅ…！」"
    ]
}

# 五感表現ガイドライン
SENSORY_EXPRESSIONS = {
    "視覚": [
        "極太の肉棒が秘所を押し広げ、愛液が糸を引く下品な光景",
        "男根が抜き差しされるたび泡立つ蜜液、結合部から飛び散る白濁液",
        "脈打つ男根が女性器を抉り、愛液が太ももを伝う猥褻な様子",
        "絶頂で痙攣する下半身、男根から溢れる精液が溢れ出す"
    ],
    "聴覚": [
        "肉体が打ち付けあう「パンパン」「ズチュズチュ」の下品な衝突音",
        "「あぁんっ！イクゥッ！」と絶叫する喘ぎ声、我慢できない嗚咽と悲鳴",
        "激しいピストンで響く「グチョッ、グチョッ」、白い肌を叩くパチン音",
        "肉棒をしゃぶる「ジュポジュポ」音、吐息と喘ぎが混じる淫音"
    ],
    "触覚": [
        "秘所が男根をギチギチに締め付ける感覚、熱い体液が絡み合うぬめり",
        "脈打つ熱い肉竿が膣内を押し広げる圧迫感、奥まで埋まる充実感",
        "男根が膣壁を擦り上げる摩擦熱、絶頂時の全身痙攣",
        "熱い精液が子宮口に注がれる感覚、溢れる愛液のヌルつき"
    ],
    "嗅覚": [
        "秘所から溢れた蜜と精液が混ざった濃厚で生臭い淫臭、汗の酸っぱい匂い",
        "男根から漂うムワッとした雄の匂い、秘所から立ち上る甘い蜜の香り",
        "シーツに染み込んだ体液の湿った臭気、部屋を満たす性の瘴気",
        "絶頂後の熱気と秘所から溢れる濃密な性臭"
    ],
    "味覚": [
        "男根をしゃぶる時の塩辛い前液と苦い精液、喉に絡む粘り気",
        "秘所から滴る甘酸っぱい愛液、舌にまとわりつくトロみ",
        "男根から溢れる精液の濃厚な苦味、飲み込む時の喉の刺激",
        "互いの体液が混じり合った下品で濃密な味わい"
    ]
}

# ダイアログ強化設定
DIALOG_ENHANCEMENT_PRESETS = {
    "extreme": {
        "name": "過激強化",
        "description": "極端に卑猥で直接的なセリフに強化します",
        "patterns": ["支配", "服従", "懇願", "オノマトペ"],
        "intensity": 7
    },
    "eromanga": {
        "name": "エロ同人マンガ風強化",
        "description": "日本のエロ同人マンガのような過激で卑猥なセリフに強化します",
        "patterns": ["喘ぎ声", "懇願", "オノマトペ", "羞恥"],
        "intensity": 6
    }
}

# 指示プリセットの拡充
DIRECTION_PRESETS = {
    "erotic_elements": {
        "name": "エロティック要素の強化",
        "options": [
            {
                "id": "intense_dialog",
                "name": "淫語セリフ強化",
                "text": "キャラクターのセリフを極端に卑猥にし、淫語や喘ぎ声を長く具体的に描写してください。日本のエロ同人マンガ風に、オノマトペ（ズチュッ、グチョッ）や「チンポで子宮を突き上げてぇ！」のような扇情的表現を多用してください。"
            },
            {
                "id": "detailed_descriptions",
                "name": "性的描写の詳細化",
                "text": "性的描写を極端に詳細化し、秘部や性器の反応、愛液や精液の動きを文学的に描写してください。五感をフル活用し、数値的表現は避け、文学的な比喩を用いてより想像力を刺激する表現にしてください。"
            },
            {
                "id": "dominance_submission",
                "name": "支配/服従の強調",
                "text": "支配と服従を極端に描写し、心理的な力関係が見える場面を作成してください。年齢や身体の数値的表現は避け、状況や雰囲気から読者に想像させるように心がけてください。"
            },
            {
                "id": "sensory_enhancement",
                "name": "五感表現の強化",
                "text": "五感を極端に活用し、肉体の脈動、体液の臭い、絡み合う音などを文学的に描写してください。読者の興奮を極限まで引き出す表現を心がけてください。"
            },
            {
                "id": "eromanga_expressions",
                "name": "エロ同人マンガ風表現",
                "text": "日本のエロ同人マンガ風に、オノマトペ（ジュポッ、パンパン）や「秘部を犯してぇ！」を多用し、下品で扇情的な描写を極限まで追求してください。ただし地の文は文学的であること。"
            }
        ]
    }
}